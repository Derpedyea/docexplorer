# Player scene and input actions

This page explains how to set up the **Player** scene in the 3‑D “First 3‑D game” tutorial and how to register custom input actions in Godot so that the player can be moved with the keyboard (or a gamepad).  
By the end of the lesson you will have a playable character that can move in eight directions.

> *Note: The code snippets below use **GDScript** and `CharacterBody3D` (the 4.x replacement for `KinematicBody3D`).*

---

## 1. Creating a player scene

1. **Add a new scene** – Create a `CharacterBody3D` node named **Player**.  
2. **Add a mesh** – Inside the Player node add a `MeshInstance3D` (or a `MeshInstance3D` with a capsule mesh for a simple character).  
3. **Add a Camera** – Add a `Camera3D` as a child, positioned above and slightly behind the player so it follows the motion.  
4. **Add a CollisionShape3D** – Add a `CollisionShape3D` (e.g., a capsule shape) so the player can collide with the environment.  

*(In the full tutorial you’ll also set up a `AnimationPlayer` and a `Sprite3D` for the character’s visual representation.)*

---

## 2. Registering custom input actions

Godot uses an **Input Map** to keep key bindings separate from code.  
This allows you to change the keys that trigger an action without editing scripts.

### 2.1 Open Project Settings

1. In the editor choose **Project → Project Settings**.  
2. Switch to the **Input Map** tab.

### 2.2 Add movement actions

Add the following actions (you can also create “jump” or other actions later):

| Action | Key | Mouse / Gamepad |
|--------|------|----------------|
| `move_forward` | `W` | `JoyButton 0` (default) |
| `move_backward` | `S` | `JoyButton 1` |
| `move_left` | `A` | `JoyButton 2` |
| `move_right` | `D` | `JoyButton 3` |
| `jump` | `Space` | `JoyButton 4` |

> **Tip** – The Input Map tab lets you add multiple keys or buttons to a single action (e.g., `move_forward` could also be the `Up` arrow).

### 2.3 Save the project settings

Click **Close** or press **Ctrl‑S** to save the new input map.

---

## 3. Using the actions in code

Create a script for the Player node (e.g., `player.gd`).

```gdscript
extends CharacterBody3D

# Movement parameters
const SPEED = 5.0
const JUMP_VELOCITY = 10.0

func _physics_process(delta: float) -> void:
    var input_dir = Vector3.ZERO

    # 2‑D movement on the XZ plane
    if Input.is_action_pressed("move_forward"):
        input_dir.z -= 1
    if Input.is_action_pressed("move_backward"):
        input_dir.z += 1
    if Input.is_action_pressed("move_left"):
        input_dir.x -= 1
    if Input.is_action_pressed("move_right"):
        input_dir.x += 1

    input_dir = input_dir.normalized()

    # Apply movement
    velocity.x = input_dir.x * SPEED
    velocity.z = input_dir.z * SPEED

    # Jump
    if Input.is_action_just_pressed("jump") and is_on_floor():
        velocity.y = JUMP_VELOCITY

    # Apply gravity
    if not is_on_floor():
        velocity.y -= ProjectSettings.get_setting("physics/3d/default_gravity") * delta

    # Move the character
    move_and_slide()
```

The script:

* Reads the custom actions using `Input.is_action_pressed()` and `Input.is_action_just_pressed()`.  
* Normalises the direction vector so diagonal movement is not faster.  
* Applies simple gravity and jump logic.  

---

## 4. Testing the player movement

1. **Instance** the `Player` scene into your main level scene.  
2. Run the project (`F5`) and press `W`, `A`, `S`, `D` or `Space` to see the character move and jump.

If the character does not move, double‑check that:

* The input actions exist in the Input Map and are bound to the correct keys.  
* The `CharacterBody3D` node has a `CollisionShape3D` and is positioned on a `StaticBody3D` floor.  
* The script is attached to the Player node and there are no syntax errors.

---

## 5. What’s next

The following lesson, **[Moving the player with code](03.player_movement_code.html)**, will extend this basic movement to support acceleration, rotation, and smooth physics interactions.

---

*For the complete tutorial and all the scenes used here, see the full “Your first 3D game” series on the Godot documentation site.*