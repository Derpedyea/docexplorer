**GD0107 – Types not derived from Node should not export Node members**  
*(Godot Engine – Stable, C# Diagnostics)*

---

### Overview
| Item | Value |
|------|-------|
| **Rule ID** | `GD0107` |
| **Category** | Usage |
| **Fix is breaking or non‑breaking** | Breaking |
| **Enabled by default** | ✅ Yes |

---

### What this rule does
This diagnostic warns when a **non‑`Node` type** (e.g. `Resource`, `Script`, `Enum`, etc.) contains an `export`‑decorated field or property whose type derives from `Node`.  
Exported `Node` references are only meaningful for objects that are part of the scene tree; using them in a plain class can result in null references or other runtime errors.

---

### Cause
A type that is **not** a subclass of `Node` declares:

```csharp
[Export] public Node someNode;
```

Because such a type has no place in the scene tree, the `Node` reference can never be populated by the editor or the engine.

---

### How to resolve

| Current code | Problem | Recommended fix |
|--------------|---------|-----------------|
| ```csharp<br>[Export] public Node someNode; ``` | Exported node reference in a non‑`Node` class | Replace with a `NodePath` or another suitable type, or make the class inherit from `Node` if it truly needs a node reference. |
| ```csharp<br>[Export] public NodePath someNodePath; ``` | *No issue* | Keep this, it correctly stores a reference that can be resolved at runtime. |

**Example**

```csharp
// ❌ Bad
public class MyData : Resource
{
    [Export]
    public Node targetNode;    // Error: exported Node in a non‑Node class
}

// ✅ Good
public class MyData : Resource
{
    [Export]
    public NodePath targetNodePath;  // Store the path instead
}
```

---

### Why this matters
- **Runtime stability** – Prevents accidental null references when the script is loaded.
- **Editor clarity** – Keeps the inspector clean by not showing invalid export fields.
- **Consistency** – Enforces the intended use of `Node` types only within node‑derived classes.

---

### Related Rules
- [GD0106](GD0106.html): The exported property is an explicit interface implementation  
- [GD0108](GD0108.html): The exported tool button is not in a tool class

---

> **Tip** – If you need a reference to a `Node` that lives outside the class, expose a `NodePath` instead and resolve it in `_ready()` or `GetNode()`.

---