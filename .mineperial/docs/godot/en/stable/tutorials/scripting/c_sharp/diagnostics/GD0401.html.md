**GD0401: The class must derive from `Godot.GodotObject` or a derived class**  
*(Godot Engine – C# diagnostics)*

---

## Rule Overview
| Item | Detail |
|------|--------|
| **Rule ID** | `GD0401` |
| **Category** | Usage |
| **Fix type** | **Breaking** – if you change the inheritance chain of the class. <br>**Non‑breaking** – if you remove the `[GlobalClass]` attribute. |
| **Enabled by default** | ✅ |

---

## Description
This diagnostic is raised when a C# class that is intended to be exposed to Godot (e.g. a script or a global class) does **not** inherit from `Godot.GodotObject` or any class that ultimately derives from it.  

In Godot, user scripts must extend a Godot class to integrate with the engine’s node system, serialization, and editor.  

**Why it matters**

* The engine cannot instantiate or expose the class as a node or resource.  
* The class will not participate in the scene tree or the Godot editor’s type system.  
* Runtime errors may occur when you attempt to add such a class as a child node or use it in a PackedScene.

---

## When the warning appears
- A class is marked with `[GlobalClass]` (or the implicit global class conversion) **but** does not derive from `GodotObject`.  
- A script inherits from a .NET class that is not a `GodotObject` derivative (e.g., plain `System.Object` or a library class).  

---

## Example (C#)

```csharp
// ❌ This will trigger GD0401
[GlobalClass]
public class MyUtility
{
    // ...
}
```

```csharp
// ✅ Valid – inherits from Node2D
[GlobalClass]
public class Player : Node2D
{
    // ...
}
```

---

## Fixing the issue

| Scenario | Action |
|----------|--------|
| The class should be a Godot node or resource | Change the base class to a `GodotObject` derivative (e.g., `Node`, `Node2D`, `Resource`, etc.). |
| The class is meant to be a plain .NET helper | Remove the `[GlobalClass]` attribute and do not expose it to the Godot type system. |

---

## Additional Resources
- [C# Scripting – Godot API reference](https://docs.godotengine.org/en/stable/classes/class_godotobject.html)  
- [Understanding GlobalClass](https://docs.godotengine.org/en/stable/tutorials/scripting/c_sharp/quick_start.html#globalclass)  
- [GD0401 in the full diagnostics list](https://docs.godotengine.org/en/stable/tutorials/scripting/c_sharp/diagnostics.html)

---